# -*- coding: utf-8 -*-"""Updated on Tue Mar 07 09:41:47 2017###############################################################################NAME:       Photometry.pyPURPOSE:    To extract photometric information from multiple targets in             a single FITS image file then plot the results and write the data            to file. This is a variation on the BroadBand_Photometry.py            program in the /Python Play/SpectroPhotometry/Photometry directory.            INPUTS:     A single parameter, "Target", points to a configuration file            that provides the stellar targets and plotting information. That            configuration file also points to secondary configuraiton files            that contain the FITS data file lists for each observation.            LIBRARIES:  This code calls the SpecPhotLibNew.py library. It is an updated            subset of the SpecPhotLibV006.py library that had grown cumbersome.                    ###############################################################################@author: Steven Hill"""import sysdrive='f:'sys.path.append(drive+'/Astronomy/Python Play')sys.path.append(drive+'/Astronomy/Python Play/SpectroPhotometry/Photometry')sys.path.append(drive+'/Astronomy/Python Play/FITSImageStuff')sys.path.append(drive+'/Astronomy/Projects/SAS 2021 Project/Analysis')import pylab as plimport Meta_and_Control_Data_Operations as Metaimport SpecPhotPlot as SPPfrom astropy.io import fitsimport ComputeNetRateJupiter as CNRJfrom astropy.io import asciifrom astropy.table import Table, vstackfrom os import listdirimport numpy as npfrom datetime import datetimeimport PhotLibJup as PLJ################################################################################ Initialize paths and set metadata for the campaign#dates=['20200902UT','20200903UT','20200904UT','20200913UT','20200914UT',#       '20200915UT','20200924UT','20200925UT','20201007UT','20201008UT',#       '20201009UT']#dates=['20200915UT']dates=['20200924UT','20200925UT','20201007UT','20201008UT',       '20201009UT']MeasFilt='647CNT'RefFilt='656HIA'root_path,pathout,observations,Names,datetimearray=PLJ.Campaign(dates)###############################################################################AllTable=PLJ.CreatePhotTable(root_path,pathout,observations,dates,Names,datetimearray)###############################################################################YY=PLJ.SummaryTablePlot(AllTable,dates,Names,datetimearray,MeasFilt,RefFilt)print YYascii.write(YY,pathout+'Transmission_'+MeasFilt+'_over_'+RefFilt+'.csv',format='csv',            overwrite=True,delimiter=',')print pathoutpl.savefig(pathout+'Jupiter-Photometry_'+MeasFilt+'_over_'+RefFilt+'.png',dpi=300)